# =============================================================================
# hndld Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to git - it contains secrets!

# -----------------------------------------------------------------------------
# Database Configuration (Required)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://username:password@localhost:5432/hndld
# Example for Replit: postgresql://username:password@db.replit.com:5432/hndld

# -----------------------------------------------------------------------------
# Session & Security (Required)
# -----------------------------------------------------------------------------
SESSION_SECRET=your-random-secret-key-minimum-32-characters-long-change-this
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# -----------------------------------------------------------------------------
# Vault Encryption (Recommended for production)
# -----------------------------------------------------------------------------
VAULT_ENCRYPTION_KEY=your-vault-encryption-key-minimum-32-characters
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Used to encrypt sensitive access items (WiFi passwords, door codes, etc.) at rest

# -----------------------------------------------------------------------------
# Replit Environment (Auto-set by Replit)
# -----------------------------------------------------------------------------
# These are automatically set by Replit - no need to set manually
REPLIT_DEPLOYMENT_URL=https://your-app.replit.app
REPLIT_DEV_DOMAIN=your-app-username.repl.co

# -----------------------------------------------------------------------------
# Google Calendar OAuth (Required for Calendar Feature)
# -----------------------------------------------------------------------------
GOOGLE_CLIENT_ID=your-client-id-here.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-client-secret-here
# Get these from: https://console.cloud.google.com/apis/credentials
# Redirect URI should be: https://your-domain.com/api/google/callback

# -----------------------------------------------------------------------------
# Email / SMTP (Required for Notifications & Invites)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
FROM_EMAIL=noreply@hndld.app
FROM_NAME=hndld

# For Gmail: Use App Password, not regular password
# Enable 2FA, then create App Password: https://myaccount.google.com/apppasswords

# -----------------------------------------------------------------------------
# AI Services (Optional - for AI features)
# -----------------------------------------------------------------------------
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here
OPENAI_API_KEY=sk-your-openai-key-here

# -----------------------------------------------------------------------------
# Stripe Payment Processing (Optional - for billing)
# -----------------------------------------------------------------------------
STRIPE_SECRET_KEY=sk_test_your-test-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-test-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret
# For production, use: sk_live_... and pk_live_...

# -----------------------------------------------------------------------------
# File Storage (Optional - for attachments)
# -----------------------------------------------------------------------------
# S3-compatible storage (AWS S3, Backblaze B2, DigitalOcean Spaces, etc.)
S3_BUCKET=your-bucket-name
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=your-access-key
S3_SECRET_ACCESS_KEY=your-secret-key
S3_ENDPOINT=https://your-endpoint.com  # Optional, for non-AWS S3

# -----------------------------------------------------------------------------
# Error Monitoring (Optional - for production monitoring)
# -----------------------------------------------------------------------------
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# Get from: https://sentry.io/

# Frontend also needs this (add to Replit Secrets with VITE_ prefix)
VITE_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
NODE_ENV=development
# Options: development, production
LOG_LEVEL=info
# Options: error, warn, info, debug

PORT=5000
# Port for the application to run on

# -----------------------------------------------------------------------------
# Rate Limiting (Optional - recommended for production)
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
# 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100
# Maximum requests per window

AUTH_RATE_LIMIT_MAX=5
# Maximum auth attempts per window (stricter)

# -----------------------------------------------------------------------------
# Feature Flags (Optional)
# -----------------------------------------------------------------------------
ENABLE_CALENDAR_SYNC=true
ENABLE_AI_FEATURES=true
ENABLE_BILLING=false
ENABLE_EMAIL_NOTIFICATIONS=true

# -----------------------------------------------------------------------------
# Backup Settings (Optional)
# -----------------------------------------------------------------------------
BACKUP_RETENTION_DAYS=30
# How many days to keep backups
AUTO_BACKUP_ENABLED=true
# Enable automatic daily backups
